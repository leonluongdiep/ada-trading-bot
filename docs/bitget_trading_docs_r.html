<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitget Trading System - Vollst√§ndige Dokumentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .status-badges {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .badge {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 0.9em;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }
        
        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.3em;
            margin: 20px 0 10px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .code-block::before {
            content: "R Script";
            position: absolute;
            top: 8px;
            right: 15px;
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
        }
        
        .inline-code {
            background: #f8f9fa;
            color: #e83e8c;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }
        
        .warning {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .success {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .feature-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .toc {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }
        
        .toc h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .toc ul {
            list-style: none;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .toc a {
            color: #667eea;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s ease;
        }
        
        .toc a:hover {
            background: #667eea;
            color: white;
        }
        
        .output-example {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            border-left: 4px solid #007acc;
        }
        
        .command-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .command-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }
        
        .command-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .command-table tr:hover {
            background: #f8f9fa;
        }
        
        .emoji {
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üöÄ Bitget Trading System</h1>
            <div class="subtitle">Vollst√§ndige Dokumentation - Funktionsf√§higes V1 API System</div>
            <div class="status-badges">
                <span class="badge">‚úÖ V1 API Working</span>
                <span class="badge">‚úÖ Live Trading</span>
                <span class="badge">‚úÖ TP/SL Orders</span>
                <span class="badge">‚úÖ Risk Management</span>
                <span class="badge">‚úÖ Technical Analysis</span>
            </div>
        </div>

        <!-- Inhaltsverzeichnis -->
        <div class="toc">
            <h3>üìã Inhaltsverzeichnis</h3>
            <ul>
                <li><a href="#overview">üîç System √úbersicht</a></li>
                <li><a href="#setup">‚öôÔ∏è Setup & Configuration</a></li>
                <li><a href="#core-functions">üéØ Kern-Funktionen</a></li>
                <li><a href="#automation">ü§ñ Vollautomatische Funktionen</a></li>
                <li><a href="#manual-orders">üìä Manuelle Order-Platzierung</a></li>
                <li><a href="#strategies">üéØ Vordefinierte Strategien</a></li>
                <li><a href="#monitoring">üìà Monitoring & √úberwachung</a></li>
                <li><a href="#examples">üí° Praktische Beispiele</a></li>
            </ul>
        </div>

        <!-- System √úbersicht -->
        <div class="section" id="overview">
            <h2><span class="emoji">üîç</span> System √úbersicht</h2>
            
            <div class="success">
                <span class="emoji">‚úÖ</span>
                <div>
                    <strong>System Status: VOLLST√ÑNDIG FUNKTIONSF√ÑHIG</strong><br>
                    Erfolgreich getestet mit echten Bitget-Orders f√ºr 7000 ADA Kontrakte
                </div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üéØ Intelligente TP/SL Orders</h4>
                    <p>Automatische Berechnung von Take Profit und Stop Loss basierend auf technischer Analyse</p>
                </div>
                <div class="feature-card">
                    <h4>üìä Technische Analyse</h4>
                    <p>RSI, SMA, MACD, Bollinger Bands f√ºr intelligente Trading-Entscheidungen</p>
                </div>
                <div class="feature-card">
                    <h4>üîß V1 API Integration</h4>
                    <p>Bew√§hrte Bitget V1 API mit korrekter Dezimalstellen-Formatierung</p>
                </div>
                <div class="feature-card">
                    <h4>‚ö° Live Market Data</h4>
                    <p>Echtzeit Ticker, Funding Rate, Open Interest, Orderbook Depth</p>
                </div>
                <div class="feature-card">
                    <h4>üéØ Teilmengen-Orders</h4>
                    <p>Flexible Strategien f√ºr gestaffelte Gewinnmitnahme und Risk Management</p>
                </div>
                <div class="feature-card">
                    <h4>üõ°Ô∏è Risk Management</h4>
                    <p>Vordefinierte Strategien: Break-Even, Konservativ, Custom Levels</p>
                </div>
            </div>
        </div>

        <!-- Setup & Configuration -->
        <div class="section" id="setup">
            <h2><span class="emoji">‚öôÔ∏è</span> Setup & Configuration</h2>

            <h3>1. Script laden</h3>
            <div class="code-block">
# Script laden und initialisieren
source("c:/freeding/tbot202506/r_analysis/strategies/Bitget/complete_trading_analysis.r")
            </div>

            <h3>2. Anpassbare Konstanten</h3>
            <div class="info">
                <span class="emoji">üí°</span>
                Alle wichtigen Parameter k√∂nnen am Anfang des Scripts angepasst werden
            </div>

            <div class="code-block">
# ANPASSBARE KONSTANTEN (im Script √§ndern)
DEFAULT_SYMBOL <- "ADAUSDT_UMCBL"        # Standard Trading Pair
DEFAULT_TP_PERCENT <- 2.0                # Take Profit Prozent (2%)
DEFAULT_SL_PERCENT <- 1.5                # Stop Loss Prozent (1.5%)
RSI_PERIOD <- 14                         # RSI Periode
SMA_LONG_PERIOD <- 20                    # SMA Periode
FALLBACK_PRICE_DECIMALS <- 4             # ADA: 4 Dezimalstellen
ORDER_DELAY_SECONDS <- 1                 # Pause zwischen Orders
            </div>

            <h3>3. API Credentials</h3>
            <div class="warning">
                <span class="emoji">‚ö†Ô∏è</span>
                Stelle sicher, dass deine .env Datei korrekt konfiguriert ist
            </div>

            <div class="code-block">
# .env Datei Inhalt:
BITGET_API_KEY=your_api_key_here
BITGET_API_SECRET=your_api_secret_here
BITGET_PASSPHRASE=your_passphrase_here
            </div>
        </div>

        <!-- Kern-Funktionen -->
        <div class="section" id="core-functions">
            <h2><span class="emoji">üéØ</span> Kern-Funktionen</h2>

            <table class="command-table">
                <thead>
                    <tr>
                        <th>Funktion</th>
                        <th>Beschreibung</th>
                        <th>Beispiel</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>complete_trading_analysis()</code></td>
                        <td>Vollst√§ndige technische Analyse</td>
                        <td><code>analysis <- complete_trading_analysis('ADAUSDT_UMCBL')</code></td>
                    </tr>
                    <tr>
                        <td><code>get_current_positions()</code></td>
                        <td>Aktuelle Positionen anzeigen</td>
                        <td><code>get_current_positions('ADAUSDT_UMCBL')</code></td>
                    </tr>
                    <tr>
                        <td><code>get_current_plan_orders()</code></td>
                        <td>Aktive TP/SL Orders anzeigen</td>
                        <td><code>get_current_plan_orders('ADAUSDT_UMCBL')</code></td>
                    </tr>
                    <tr>
                        <td><code>get_symbol_precision()</code></td>
                        <td>Symbol-Pr√§zision abrufen</td>
                        <td><code>get_symbol_precision('ADAUSDT_UMCBL')</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Vollautomatische Funktionen -->
        <div class="section" id="automation">
            <h2><span class="emoji">ü§ñ</span> Vollautomatische Funktionen</h2>

            <h3>1. Komplettes Setup (One-Click Solution)</h3>
            <div class="success">
                <span class="emoji">üöÄ</span>
                F√ºhrt automatisch Analyse durch und platziert intelligente TP/SL Orders
            </div>

            <div class="code-block">
# VOLLAUTOMATISCHE ANALYSE + ORDER PLACEMENT
complete_setup <- quick_tp_sl('ADAUSDT_UMCBL')

# Das System f√ºhrt automatisch aus:
# 1. Technische Analyse (RSI, SMA, MACD, Bollinger Bands)
# 2. Position Check
# 3. Intelligente TP/SL Berechnung basierend auf Indikatoren
# 4. ECHTE Order-Platzierung auf Bitget
            </div>

            <div class="output-example">
üöÄ QUICK TP/SL SETUP
‚ö†Ô∏è  WARNING: This will perform analysis and place REAL orders!

üöÄ COMPLETE TRADING ANALYSIS FOR ADAUSDT_UMCBL
üìä Collecting market data...
‚úÖ Ticker data retrieved - Price: 0.5427 USDT
‚úÖ Technical indicators calculated successfully

üéØ INTELLIGENT TP/SL PLACEMENT
‚úÖ TP Order placed successfully! Order ID: 1320627116363550722
‚úÖ SL Order placed successfully! Order ID: 1320627122143301632
            </div>

            <h3>2. Mit Custom Parametern</h3>
            <div class="code-block">
# Mit angepassten TP/SL Prozenten
tp_sl_results <- place_intelligent_tp_sl('ADAUSDT_UMCBL', analysis, 
                                         tp_percent = 1.5,  # 1.5% TP
                                         sl_percent = 1.0)   # 1.0% SL
            </div>
        </div>

        <!-- Manuelle Order-Platzierung -->
        <div class="section" id="manual-orders">
            <h2><span class="emoji">üìä</span> Manuelle Order-Platzierung</h2>

            <div class="warning">
                <span class="emoji">‚ö†Ô∏è</span>
                Alle Order-Funktionen platzieren ECHTE Orders auf Bitget mit echtem Geld!
            </div>

            <h3>Einfache Teilmengen-Orders</h3>
            <div class="code-block">
# EINFACHE TAKE PROFIT ORDER
place_tp_simple('ADAUSDT_UMCBL', 'long', '2000', 0.5750)

# EINFACHE STOP LOSS ORDER  
place_sl_simple('ADAUSDT_UMCBL', 'long', '2000', 0.5100)

# Automatische symbol_info Beschaffung - kein manueller Parameter n√∂tig
            </div>

            <h3>Erweiterte Order-Platzierung</h3>
            <div class="code-block">
# Mit manueller Symbol-Pr√§zision
symbol_info <- get_symbol_precision('ADAUSDT_UMCBL')
place_tp_order('ADAUSDT_UMCBL', 'long', '3500', 0.5800, symbol_info)
place_sl_order('ADAUSDT_UMCBL', 'long', '3500', 0.5600, symbol_info)
            </div>

            <div class="output-example">
üìà Placing Take Profit Order...
‚ö†Ô∏è  WARNING: PLACING REAL ORDER ON BITGET!
üîß Price formatting: 0.58000000 -> 0.5800 (using 4 decimals, tick: 1e-04)
üìã TP Order Details:
   Symbol: ADAUSDT_UMCBL
   API: V1 (Working)
   Plan Type: pos_profit
   Side: close_long
   Size: 3500 contracts
   Trigger Price: 0.5800 USDT
‚úÖ TP Order placed successfully!
   Order ID: 1320627116363550723
            </div>
        </div>

        <!-- Vordefinierte Strategien -->
        <div class="section" id="strategies">
            <h2><span class="emoji">üéØ</span> Vordefinierte Strategien</h2>

            <h3>1. Break-Even Strategie</h3>
            <div class="info">
                <span class="emoji">üí°</span>
                50% der Position bei Entry-Preis schlie√üen, 50% mit protektivem SL laufen lassen
            </div>

            <div class="code-block">
# BREAK-EVEN STRATEGIE
place_breakeven_orders('ADAUSDT_UMCBL', 'long', '7000', 0.5725)

# Das System setzt automatisch:
# - 3500 Kontrakte TP bei 0.5725 (Entry-Preis = Break-Even)
# - 3500 Kontrakte SL bei 0.5611 (2% Schutz f√ºr verbleibende Position)
            </div>

            <div class="output-example">
üìä BREAK-EVEN STRATEGY
   Close 50% at entry price (break-even)
   Let 50% run with protective SL

üìä Stage 1:
   Size: 3500 contracts
   TP Price: 0.5725 USDT
‚úÖ TP Order placed successfully!

üìä Stage 2:
   Size: 3500 contracts
   SL Price: 0.5611 USDT
‚úÖ SL Order placed successfully!
            </div>

            <h3>2. Konservative Gewinnmitnahme</h3>
            <div class="info">
                <span class="emoji">üìà</span>
                Gestaffelte Gewinnmitnahme: 40% bei +1%, 30% bei +2%, 30% bei +3%
            </div>

            <div class="code-block">
# KONSERVATIVE STRATEGIE
place_conservative_strategy('ADAUSDT_UMCBL', 'long', '7000', 0.5725)

# Automatische Berechnung:
# Level 1: 2800 Kontrakte TP bei 0.5783 (+1% = +162 USDT)
# Level 2: 2100 Kontrakte TP bei 0.5840 (+2% = +242 USDT) 
# Level 3: 2100 Kontrakte TP bei 0.5897 (+3% = +362 USDT)
# SL f√ºr alle: 7000 Kontrakte bei 0.5611 (-2% = max -798 USDT)
            </div>

            <h3>3. Custom Gestaffelte Orders</h3>
            <div class="code-block">
# CUSTOM STAGING
stages <- list(
  list(size = '2000', tp_price = 0.5750, sl_price = 0.5600),
  list(size = '2500', tp_price = 0.5800, sl_price = 0.5600),
  list(size = '2500', tp_price = 0.5850, sl_price = 0.5600)
)

place_staged_tp_sl('ADAUSDT_UMCBL', 'long', stages)
            </div>
        </div>

        <!-- Monitoring & √úberwachung -->
        <div class="section" id="monitoring">
            <h2><span class="emoji">üìà</span> Monitoring & √úberwachung</h2>

            <h3>Position Monitoring</h3>
            <div class="code-block">
# AKTUELLE POSITIONEN ANZEIGEN
get_current_positions('ADAUSDT_UMCBL')
            </div>

            <div class="output-example">
üìä Checking current positions...
‚úÖ Active position found:
   Side: long, Size: 7000, PnL: -206.12 USDT

  Symbol: ADAUSDT_UMCBL
  Side: long
  Size: 7000 contracts
  Entry Price: 0.5725 USDT
  Current PnL: -206.12 USDT
  Leverage: 10x
  Margin: 400.78 USDT
            </div>

            <h3>Order Status Monitoring</h3>
            <div class="code-block">
# AKTIVE TP/SL ORDERS ANZEIGEN
get_current_plan_orders('ADAUSDT_UMCBL')
            </div>

            <div class="output-example">
üìã Fetching current plan orders (TP/SL)...
üìä Active Plan Orders:
================================================================================

üìÑ Order 1:
   Symbol: ADAUSDT_UMCBL
   Type: üü¢ Take Profit
   Side: LONG
   Size: 7000
   Trigger Price: 0.5811 USDT
   Status: live
   Order ID: 1320627116363550722

üìÑ Order 2:
   Symbol: ADAUSDT_UMCBL
   Type: üî¥ Stop Loss
   Side: LONG
   Size: 7000
   Trigger Price: 0.5399 USDT
   Status: live
   Order ID: 1320627122143301632
            </div>

            <h3>Symbol Precision Check</h3>
            <div class="code-block">
# SYMBOL-PR√ÑZISION √úBERPR√úFEN
get_symbol_precision('ADAUSDT_UMCBL')
            </div>

            <div class="output-example">
üîç Getting symbol precision for ADAUSDT_UMCBL ...
‚úÖ Symbol precision retrieved:
   Price decimals: 4
   Tick size: 0.0001
            </div>
        </div>

        <!-- Praktische Beispiele -->
        <div class="section" id="examples">
            <h2><span class="emoji">üí°</span> Praktische Beispiele</h2>

            <h3>Beispiel 1: Erstes Setup</h3>
            <div class="code-block">
# 1. Script laden
source("complete_trading_analysis.r")

# 2. Aktuelle Position checken
get_current_positions('ADAUSDT_UMCBL')

# 3. Vollautomatisches Setup
complete_setup <- quick_tp_sl('ADAUSDT_UMCBL')
            </div>

            <h3>Beispiel 2: Teilmengen-Management</h3>
            <div class="code-block">
# Aktuelle Position: 7000 ADA Kontrakte bei 0.5725

# Strategie: 30% bei kleinem Gewinn sichern
place_tp_simple('ADAUSDT_UMCBL', 'long', '2100', 0.5780)  # +1% Gewinn

# 40% bei Break-Even absichern
place_tp_simple('ADAUSDT_UMCBL', 'long', '2800', 0.5725)  # Break-Even

# 30% laufen lassen mit SL
place_sl_simple('ADAUSDT_UMCBL', 'long', '2100', 0.5600)  # -2% Schutz
            </div>

            <h3>Beispiel 3: Risk Management nach Verlust</h3>
            <div class="code-block">
# Situation: Position im Verlust, Schaden begrenzen

# Break-Even Strategie: 50% bei Entry retten
place_breakeven_orders('ADAUSDT_UMCBL', 'long', '7000', 0.5725)

# Oder: Konservative Gewinnmitnahme
place_conservative_strategy('ADAUSDT_UMCBL', 'long', '7000', 0.5725)
            </div>

            <h3>Beispiel 4: Monitoring Workflow</h3>
            <div class="code-block">
# T√§glicher Check-Workflow

# 1. Position Status
get_current_positions('ADAUSDT_UMCBL')

# 2. Aktive Orders
get_current_plan_orders('ADAUSDT_UMCBL')

# 3. Neue Analyse (falls n√∂tig)
analysis <- complete_trading_analysis('ADAUSDT_UMCBL')

# 4. Bei Bedarf neue Orders
if (analysis$signals$overall_signal == "BUY") {
  place_tp_simple('ADAUSDT_UMCBL', 'long', '1000', 0.5900)
}
            </div>

            <div class="success">
                <span class="emoji">üéâ</span>
                <div>
                    <strong>System erfolgreich implementiert!</strong><br>
                    Alle Funktionen getestet und funktionsf√§hig mit echten Bitget-Orders
                </div>
            </div>

            <div class="warning">
                <span class="emoji">‚ö†Ô∏è</span>
                <div>
                    <strong>Wichtige Erinnerung:</strong><br>
                    Alle Order-Funktionen platzieren echte Orders mit echtem Geld. Teste immer mit kleinen Betr√§gen und verstehe die Risiken!
                </div>
            </div>
        </div>
    </div>
</body>
</html>